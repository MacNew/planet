{"views":{"count_ratings":{"map":"function (doc) {\n          emit([doc.parentCode, doc.createdOn, doc.type, doc.item], 1);\n        }","reduce":"_count"},"avg_ratings":{"map":"function (doc) {\n          emit([doc.parentCode, doc.createdOn, doc.type, doc.item], doc.rate);\n        }","reduce":"function (keys, docs) {\n          var rating = 0;\n          docs.forEach(function(doc) {\n            rating = rating + doc;\n          });\n          return rating / docs.length;\n        }"},"total_item_ratings":{"map":"function (doc) {\n          emit(doc.item, 1);\n        }","reduce":"_count"}}}